{"version":3,"sources":["components/Info/Info.js","pages/Home.js","contentful.js","components/UI/Section/Section.js","components/UI/Section/Section.module.css","hooks/useGeneralContent.js","hooks/useArticles.js","components/UI/ContentBox.styles.jsx","components/UI/Button/Button.js","components/UI/SearchBar/SearchBar.js","components/Card/Card.module.css","components/CardContainer/CardContainer.module.css","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","hooks/useSearchData.js","components/Card/Card.js","components/CardContainer/CardContainer.js"],"names":["Info","useGeneralContent","generalContent","isLoading","Section","children","fields","projectDescription","Wrapper","styled","div","Home","useArticles","articles","sortedArticles","sort","a","b","mainTitle","useState","isActive","setIsActive","useSearchData","searchResults","searchTerm","handleChange","React","useEffect","window","scrollTo","SearchBar","onChange","onKeyUp","onBlur","setTimeout","length","CardContainer","data","isHome","Fragment","Button","path","className","style","width","height","fontSize","fontWeight","buttonName","client","require","createClient","space","process","accessToken","getArticles","getEntries","content_type","then","response","items","getSingleArticle","slug","getGeneralContent","props","styles","section","module","exports","promise","setGeneralContent","setLoading","catch","err","alert","setArticles","blogPosts","ContentBox","to","onClick","type","placeholder","onFocus","value","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","setSearchterm","setSearchResults","fn","results","filter","toLowerCase","includes","mainContent","keywords","sortedresults","prioA","prioB","self","this","args","arguments","apply","undefined","event","target","Card","cardsWrapper","textDecoration","card","preview","abstract","author","cardContainer","map","item"],"mappings":"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","file":"static/js/5.b0227073.chunk.js","sourcesContent":["import React from \"react\";\nimport Section from \"../UI/Section/Section\";\nimport Markdown from \"react-markdown\";\nimport { ContentBox } from \"../UI/ContentBox.styles\";\nimport { useGeneralContent } from \"../../hooks/useGeneralContent\"\n\nconst Info = () => {\n  const [generalContent, isLoading] = useGeneralContent();\n\n  return (\n    <Section>\n      <ContentBox>\n      {!isLoading && (\n        <Markdown children={generalContent[0].fields.projectDescription} />\n      )}\n      {isLoading && <p>Loading...</p>}\n      </ContentBox>\n    </Section>\n  );\n};\n\nexport default Info;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport SearchBar from \"../components/UI/SearchBar/SearchBar\";\nimport Info from \"../components/Info/Info\";\nimport useSearchData from \"../hooks/useSearchData\";\nimport Section from \"../components/UI/Section/Section\";\nimport CardContainer from \"../components/CardContainer/CardContainer\";\nimport { useArticles } from \"../hooks/useArticles\";\nimport Button from \"../components/UI/Button/Button\";\nimport { ContentBox } from \"../components/UI/ContentBox.styles\";\n\nconst Wrapper = styled.div`\n  margin-top: 100px;\n`;\n\nconst Home = () => {\n  const [articles, isLoading] = useArticles();\n  const sortedArticles = articles.sort((a, b) => {\n    if (a.fields.mainTitle < b.fields.mainTitle) {\n      return -1;\n    }\n    if (a.fields.mainTitle > b.fields.mainTitle) {\n      return 1;\n    }\n    return 0;\n  });\n  \n  const [isActive, setIsActive] = useState(false);\n\n  const { searchResults, searchTerm, handleChange } = useSearchData(\n    sortedArticles,\n    true,\n    setIsActive\n  );\n\n  const handleBlur = () => {\n    setTimeout(() => {\n      setIsActive(false);\n    }, 500);\n  };\n\n  React.useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  return (\n    <Wrapper>\n      <Section>\n        <SearchBar\n          searchTerm={searchTerm}\n          onChange={handleChange}\n          onKeyUp={handleChange}\n          onBlur={handleBlur}\n        />\n        {isActive &&\n          (!!searchResults.length ? (\n            <CardContainer\n              isLoading={isLoading}\n              data={searchResults}\n              isHome={true}\n            />\n          ) : (\n            <ContentBox>\n              <h2>No results found</h2>\n              <p>Try to search for a different keyword or contact us</p>\n            </ContentBox>\n          ))}\n      </Section>\n\n      {!isActive && (\n        <React.Fragment>\n          <Button\n            path={\"articles\"}\n            className=\"btnDark centered\"\n            style={{\n              width: \"100px\",\n              height: \"20px\",\n              fontSize: \"18px\",\n              fontWeight: 500,\n            }}\n            buttonName={\"Browse\"}\n          />\n          <Info />\n        </React.Fragment>\n      )}\n    </Wrapper>\n  );\n};\n\nexport default Home;\n","const client = require(\"contentful\").createClient({\n  space: process.env.REACT_APP_CONTENFUL_SPACE_ID,\n  accessToken: process.env.REACT_APP_CONTENTFUL_ACCESS_TOKEN,\n});\n\nconst getArticles = () =>\n  client.getEntries({ content_type: \"gameArticle\" }).then((response) =>\n    //sort the items in alphabatical order\n    response.items.sort((a, b) => {\n      if (a.fields.mainTitle < b.fields.mainTitle) {\n        return -1;\n      }\n      if (a.fields.mainTitle > b.fields.mainTitle) {\n        return 1;\n      }\n      return 0;\n    })\n  );\n\nconst getSingleArticle = (slug) =>\n  client\n    .getEntries({\n      \"fields.slug\": slug,\n      content_type: \"gameArticle\",\n    })\n    .then((response) => response.items);\n\nconst getGeneralContent = () =>\n  client\n    .getEntries({ content_type: \"generalContent\" })\n    .then((response) => response.items);\n\nexport { getArticles, getSingleArticle, getGeneralContent };\n","import styles from './Section.module.css';\n\nconst Section = (props) => {\n  return <section className={styles.section}>{props.children}</section>;\n};\n\nexport default Section;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__3vam2\"};","import { useEffect, useState } from \"react\";\n\nimport { getGeneralContent } from \"../contentful\";\n\nconst promise = getGeneralContent();\n\nexport const useGeneralContent = () => {\n  const [generalContent, setGeneralContent] = useState([]);\n  const [isLoading, setLoading] = useState(true);\n\n  useEffect(() => {\n    promise\n      .then((generalContent) => {\n        setGeneralContent(generalContent);\n        setLoading(false);\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }, []);\n\n  return [generalContent, isLoading];\n};\n","import { useEffect, useState } from \"react\";\n\nimport { getArticles } from \"../contentful\";\n\nconst promise = getArticles();\n\nexport const useArticles = () => {\n  const [articles, setArticles] = useState([]);\n  const [isLoading, setLoading] = useState(true);\n  useEffect(() => {\n    promise\n      .then((blogPosts) => {\n        setArticles(blogPosts);\n        setLoading(false);\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }, []);\n\n  return [articles, isLoading];\n};\n","import styled from \"styled-components\";\n\nexport const ContentBox = styled.div`\n    display: block;\n    align-content: center;\n    margin: 2rem;\n    margin-left: auto;\n    margin-right: auto;\n    background-color: #ebebeb;\n    padding: 2rem;\n    border-radius: 12px;\n    max-width: 800px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);\n`","import { Link } from \"react-router-dom\";\n\nconst Button = (props) => {\n  return (\n    <Link to={props.path} className={props.className} style={props.style} onClick={props.onClick}>\n      {props.buttonName}\n    </Link>\n  );\n};\n\nexport default Button;\n","import \"./SearchBar.module.css\";\n\nconst SearchBar = (props) => {\n  return (\n    <input\n      type=\"text\"\n      placeholder=\"&#xf002; Search...\"\n      onFocus={props.onFocus}\n      onBlur={props.onBlur}\n      onKeyUp={props.onChange}\n      //searchTerm saves the data from search input on every occurance of change event\n      value={props.searchTerm}\n      //handleChange takes event object as arg and set current value of form to searchTerm state using setSearchTerm method\n      onChange={props.onChange}\n    ></input>\n  );\n};\n\nexport default SearchBar;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardsWrapper\":\"Card_cardsWrapper__1LDBp\",\"card\":\"Card_card__1eE8R\",\"preview\":\"Card_preview__34tlp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardContainer\":\"CardContainer_cardContainer__7AQTQ\"};","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import { useState, useEffect } from \"react\";\n\nconst useSearchData = (data, isHome, setIsActive) => {\n  const [searchTerm, setSearchterm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n\n  const handleChange = (event) => {\n    if (isHome) {\n      setIsActive(true);\n    }\n    setSearchterm(event.target.value);\n  };\n\n  useEffect(() => {\n    (async () => {\n      let results = [];\n      //for Home page we have showAll=false but for Contents page we have showAll=true\n      if (!searchTerm && isHome) {\n        return;\n      } else {\n        results = await data.filter((value) => {\n          return (\n            //search for either character or actor/actress name\n            value.fields.mainTitle\n              .toLowerCase()\n              .includes(searchTerm.toLowerCase()) ||\n            value.fields.mainContent\n              .toLowerCase()\n              .includes(searchTerm.toLowerCase()) ||\n            value.fields.keywords\n              .toLowerCase()\n              .includes(searchTerm.toLowerCase())\n          );\n        });\n        const sortedresults = results.sort((a, b) => {\n          const prioA = a.fields.mainTitle\n            .toLowerCase()\n            .includes(searchTerm.toLowerCase())\n            ? 3\n            : a.fields.keywords.toLowerCase().includes(searchTerm.toLowerCase())\n            ? 2\n            : 1;\n          const prioB = b.fields.mainTitle\n            .toLowerCase()\n            .includes(searchTerm.toLowerCase())\n            ? 3\n            : b.fields.keywords.toLowerCase().includes(searchTerm.toLowerCase())\n            ? 2\n            : 1;\n          if (prioA < prioB) return 1;\n          if (prioA > prioB) return -1;\n          return 0;\n        });\n        //then the filtered list (results) is set on the searchResults state by using the setSearchResults method\n        setSearchResults(sortedresults);\n      }\n    })();\n  }, [data, searchTerm, isHome]);\n\n  return { searchResults, searchTerm, handleChange };\n};\n\nexport default useSearchData;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./Card.module.css\";\n\nconst Card = (props) => {\n  const key = props.data.fields.slug;\n  return (\n    <Link\n      className={styles.cardsWrapper}\n      style={{ textDecoration: \"none\" }}\n      key={key}\n      to={`${props.isHome ? `articles/` : ''}${key}`}\n    >\n      <div className={styles.card}>\n        <h1>{props.data.fields.mainTitle}</h1>\n        <p className={styles.preview}> {props.data.fields.abstract}</p>\n        <p>Author: {props.data.fields.author}</p>\n      </div>\n    </Link>\n  );\n};\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"../Card/Card\";\nimport styles from \"./CardContainer.module.css\";\n\nconst CardContainer = (props) => {\n  return (\n    <div className={styles.cardContainer}>\n      {/*map data to each card*/}\n      {!props.isLoading &&\n        props.data.length > 0 &&\n        props.data.map((item) => (\n          <Card isHome={props.isHome} key={item.fields.slug} data={item}></Card>\n        ))}\n      {/* {props.isLoading && props.httpError && <p>{props.httpError}</p>} */}\n      {props.isLoading && <p>Loading...</p>}\n    </div>\n  );\n};\n\nexport default CardContainer;\n"],"sourceRoot":""}