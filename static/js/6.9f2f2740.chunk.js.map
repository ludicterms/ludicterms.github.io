{"version":3,"sources":["pages/Contents.js","contentful.js","components/UI/Section/Section.js","components/UI/Section/Section.module.css","hooks/useArticles.js","components/UI/ContentBox.styles.jsx","components/UI/SearchBar/SearchBar.js","components/Card/Card.module.css","components/CardContainer/CardContainer.module.css","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","hooks/useSearchData.js","components/Card/Card.js","components/CardContainer/CardContainer.js"],"names":["Contents","useArticles","articles","isLoading","sortedArticles","sort","a","b","fields","mainTitle","useSearchData","searchResults","searchTerm","handleChange","onChange","length","data","isHome","client","require","createClient","space","process","accessToken","getArticles","getEntries","content_type","then","response","items","getSingleArticle","slug","getGeneralContent","Section","props","className","styles","section","children","module","exports","promise","useState","setArticles","setLoading","useEffect","blogPosts","catch","err","alert","ContentBox","styled","div","SearchBar","type","placeholder","onFocus","onBlur","onKeyUp","value","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","setIsActive","setSearchterm","setSearchResults","fn","results","filter","toLowerCase","includes","mainContent","keywords","sortedresults","prioA","prioB","self","this","args","arguments","apply","undefined","event","target","Card","cardsWrapper","style","textDecoration","to","card","preview","abstract","author","CardContainer","cardContainer","map","item"],"mappings":"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","file":"static/js/6.9f2f2740.chunk.js","sourcesContent":["import React from \"react\";\n//import styles from \"./Main.module.css\";\n\nimport SearchBar from \"../components/UI/SearchBar/SearchBar\";\n\nimport useSearchData from \"../hooks/useSearchData\";\nimport { useArticles } from \"../hooks/useArticles\";\nimport Section from \"../components/UI/Section/Section\";\nimport CardContainer from \"../components/CardContainer/CardContainer\";\nimport { ContentBox } from \"../components/UI/ContentBox.styles\";\n\nconst Contents = () => {\n  const [articles, isLoading] = useArticles();\n  const sortedArticles = articles.sort((a, b) => {\n    if (a.fields.mainTitle < b.fields.mainTitle) {\n      return -1;\n    }\n    if (a.fields.mainTitle > b.fields.mainTitle) {\n      return 1;\n    }\n    return 0;\n  });\n  const { searchResults, searchTerm, handleChange } = useSearchData(\n    sortedArticles,\n    false\n  );\n\n  return (\n    <Section>\n      <SearchBar searchTerm={searchTerm} onChange={handleChange} />\n      {!!searchResults.length ? (\n        <CardContainer\n          isLoading={isLoading}\n          /* httpError={props.httpError} */\n          data={searchResults}\n          isHome={false}\n        />\n      ) : (\n        <ContentBox>\n          <h2>No results found</h2>\n          <p>Try to search for a different keyword or contact us</p>\n        </ContentBox>\n      )}\n    </Section>\n  );\n};\n\nexport default Contents;\n","const client = require(\"contentful\").createClient({\n  space: process.env.REACT_APP_CONTENFUL_SPACE_ID,\n  accessToken: process.env.REACT_APP_CONTENTFUL_ACCESS_TOKEN,\n});\n\nconst getArticles = () =>\n  client.getEntries({ content_type: \"gameArticle\" }).then((response) =>\n    //sort the items in alphabatical order\n    response.items.sort((a, b) => {\n      if (a.fields.mainTitle < b.fields.mainTitle) {\n        return -1;\n      }\n      if (a.fields.mainTitle > b.fields.mainTitle) {\n        return 1;\n      }\n      return 0;\n    })\n  );\n\nconst getSingleArticle = (slug) =>\n  client\n    .getEntries({\n      \"fields.slug\": slug,\n      content_type: \"gameArticle\",\n    })\n    .then((response) => response.items);\n\nconst getGeneralContent = () =>\n  client\n    .getEntries({ content_type: \"generalContent\" })\n    .then((response) => response.items);\n\nexport { getArticles, getSingleArticle, getGeneralContent };\n","import styles from './Section.module.css';\n\nconst Section = (props) => {\n  return <section className={styles.section}>{props.children}</section>;\n};\n\nexport default Section;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__3vam2\"};","import { useEffect, useState } from \"react\";\n\nimport { getArticles } from \"../contentful\";\n\nconst promise = getArticles();\n\nexport const useArticles = () => {\n  const [articles, setArticles] = useState([]);\n  const [isLoading, setLoading] = useState(true);\n  useEffect(() => {\n    promise\n      .then((blogPosts) => {\n        setArticles(blogPosts);\n        setLoading(false);\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  }, []);\n\n  return [articles, isLoading];\n};\n","import styled from \"styled-components\";\n\nexport const ContentBox = styled.div`\n    display: block;\n    align-content: center;\n    margin: 2rem;\n    margin-left: auto;\n    margin-right: auto;\n    background-color: #ebebeb;\n    padding: 2rem;\n    border-radius: 12px;\n    max-width: 800px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);\n`","import \"./SearchBar.module.css\";\n\nconst SearchBar = (props) => {\n  return (\n    <input\n      type=\"text\"\n      placeholder=\"&#xf002; Search...\"\n      onFocus={props.onFocus}\n      onBlur={props.onBlur}\n      onKeyUp={props.onChange}\n      //searchTerm saves the data from search input on every occurance of change event\n      value={props.searchTerm}\n      //handleChange takes event object as arg and set current value of form to searchTerm state using setSearchTerm method\n      onChange={props.onChange}\n    ></input>\n  );\n};\n\nexport default SearchBar;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardsWrapper\":\"Card_cardsWrapper__1LDBp\",\"card\":\"Card_card__1eE8R\",\"preview\":\"Card_preview__34tlp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardContainer\":\"CardContainer_cardContainer__7AQTQ\"};","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import { useState, useEffect } from \"react\";\n\nconst useSearchData = (data, isHome, setIsActive) => {\n  const [searchTerm, setSearchterm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n\n  const handleChange = (event) => {\n    if (isHome) {\n      setIsActive(true);\n    }\n    setSearchterm(event.target.value);\n  };\n\n  useEffect(() => {\n    (async () => {\n      let results = [];\n      //for Home page we have showAll=false but for Contents page we have showAll=true\n      if (!searchTerm && isHome) {\n        return;\n      } else {\n        results = await data.filter((value) => {\n          return (\n            //search for either character or actor/actress name\n            value.fields.mainTitle\n              .toLowerCase()\n              .includes(searchTerm.toLowerCase()) ||\n            value.fields.mainContent\n              .toLowerCase()\n              .includes(searchTerm.toLowerCase()) ||\n            value.fields.keywords\n              .toLowerCase()\n              .includes(searchTerm.toLowerCase())\n          );\n        });\n        const sortedresults = results.sort((a, b) => {\n          const prioA = a.fields.mainTitle\n            .toLowerCase()\n            .includes(searchTerm.toLowerCase())\n            ? 3\n            : a.fields.keywords.toLowerCase().includes(searchTerm.toLowerCase())\n            ? 2\n            : 1;\n          const prioB = b.fields.mainTitle\n            .toLowerCase()\n            .includes(searchTerm.toLowerCase())\n            ? 3\n            : b.fields.keywords.toLowerCase().includes(searchTerm.toLowerCase())\n            ? 2\n            : 1;\n          if (prioA < prioB) return 1;\n          if (prioA > prioB) return -1;\n          return 0;\n        });\n        //then the filtered list (results) is set on the searchResults state by using the setSearchResults method\n        setSearchResults(sortedresults);\n      }\n    })();\n  }, [data, searchTerm, isHome]);\n\n  return { searchResults, searchTerm, handleChange };\n};\n\nexport default useSearchData;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./Card.module.css\";\n\nconst Card = (props) => {\n  const key = props.data.fields.slug;\n  return (\n    <Link\n      className={styles.cardsWrapper}\n      style={{ textDecoration: \"none\" }}\n      key={key}\n      to={`${props.isHome ? `articles/` : ''}${key}`}\n    >\n      <div className={styles.card}>\n        <h1>{props.data.fields.mainTitle}</h1>\n        <p className={styles.preview}> {props.data.fields.abstract}</p>\n        <p>Author: {props.data.fields.author}</p>\n      </div>\n    </Link>\n  );\n};\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"../Card/Card\";\nimport styles from \"./CardContainer.module.css\";\n\nconst CardContainer = (props) => {\n  return (\n    <div className={styles.cardContainer}>\n      {/*map data to each card*/}\n      {!props.isLoading &&\n        props.data.length > 0 &&\n        props.data.map((item) => (\n          <Card isHome={props.isHome} key={item.fields.slug} data={item}></Card>\n        ))}\n      {/* {props.isLoading && props.httpError && <p>{props.httpError}</p>} */}\n      {props.isLoading && <p>Loading...</p>}\n    </div>\n  );\n};\n\nexport default CardContainer;\n"],"sourceRoot":""}